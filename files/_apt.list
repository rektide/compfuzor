{% if APT_DISTRIBUTIONS is defined %}{% for DISTRIBUTION in APT_DISTRIBUTIONS %}
deb{% if APT_SRC %}-src{% endif %}
{%- if APT_ARCH is defined or APT_ARCHS is defined %} [ 
{%- if APT_ARCH is defined %}arch = {{APT_ARCH}}{{" "}}
{%- elif APT_ARCHS is defined %}arch = {{APT_ARCHS|join(",")}}{{" "}}{% endif %}
 ]{% endif -%}
{{" "}}{{APT_REPO}}  {{DISTRIBUTION}}{{" "}}
{%- if APT_COMPONENTS is defined %}{{APT_COMPONENTS|join(" ")}}
{%- elif APT_COMPONENT is defined %}{{APT_COMPONENT}}
{%- elif APT_DEFAULT_COMPONENTS is defined %}{{APT_DEFAULT_COMPONENTS|join(" ")}}
{%- elif APT_DEFAULT_COMPONENT is defined %}{{APT_DEFAULT_COMPONENT }}
{%- else %}main{% endif %}
{%- endfor %}{% else %}
deb{% if APT_SRC is defined %}-src{% endif %}
{%- if APT_ARCH is defined or APT_ARCHS is defined %} [ 
{%- if APT_ARCH is defined %}arch = {{APT_ARCH}}{{" "}}
{%- elif APT_ARCHS is defined %}arch = {{APT_ARCHS|join(",")}}{{" "}}{% endif %}
 ]{% endif -%}
{{" "}}{{APT_REPO}}{{" "}}
{%- if APT_DISTRIBUTION is defined %}{{APT_DISTRIBUTION}}
{%- elif APT_DEFAULT_DISTRIBUTION is defined %}{{APT_DEFAULT_DISTRIBUTION}}
{%- else %}unstable{% endif %}{{" "}}
{%- if APT_COMPONENTS is defined %}{{APT_COMPONENTS|join(" ")}}
{%- elif APT_COMPONENT is defined %}{{APT_COMPONENT}}
{%- elif APT_DEFAULT_COMPONENTS is defined %}{{APT_DEFAULT_COMPONENTS|join(" ")}}
{%- elif APT_DEFAULT_COMPONENT is defined %}{{APT_DEFAULT_COMPONENT }}
{%- else %}main{% endif %}
{% endif %}
